#ifndef DATABASE_ACCOUNTS_H
#define DATABASE_ACCOUNTS_H

////////////////////////////////////////////////////////////
// Headers
////////////////////////////////////////////////////////////
#include <Core/Users.h>
#include <Database/Query.h>
#include <Network/Protocol.h>

////////////////////////////////////////////////////////////
// Table design :
//		id			-> (autoincrement)
//		name		-> string [64]
//		password	-> string [64]
//		email		-> string [64]
//		ip			-> string [15]
//		ban			-> boolean
//		player[6]	-> string [32]
////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////
// Defines
////////////////////////////////////////////////////////////
#define ACCOUNT_PLAYERS_SIZE	0x06
#define	ACCOUNT_TABLE_DEFAULT	"accounts"

////////////////////////////////////////////////////////////
///	Initialize account data
////////////////////////////////////////////////////////////
void AccountInitialize(struct UserData * User);

////////////////////////////////////////////////////////////
///	Check if the account exist in the database
////////////////////////////////////////////////////////////
bool AccountExist(struct DataBase * DB, struct UserData * User);

////////////////////////////////////////////////////////////
///	Check if the password is correct
////////////////////////////////////////////////////////////
bool AccountCheckPassword(struct DataBase * DB, struct UserData * User);

////////////////////////////////////////////////////////////
///	Check if the email is correct
////////////////////////////////////////////////////////////
bool AccountCheckEmail(struct DataBase * DB, struct UserData * User, char * Email);

////////////////////////////////////////////////////////////
///	Check if the account is banned
////////////////////////////////////////////////////////////
bool AccountCheckBan(struct DataBase * DB, struct UserData * User);

////////////////////////////////////////////////////////////
/// Ban an account
////////////////////////////////////////////////////////////
bool AccountSetBan(struct DataBase * DB, struct UserData * User, bool Ban);

////////////////////////////////////////////////////////////
///	Login account
////////////////////////////////////////////////////////////
bool AccountLogin(struct DataBase * DB, struct UserData * User);

////////////////////////////////////////////////////////////
///	Save an account
////////////////////////////////////////////////////////////
bool AccountExit(struct DataBase * DB, struct UserData * User);

#endif // DATABASE_ACCOUNTS_H