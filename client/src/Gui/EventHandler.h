#ifndef GUI_EVENT_HANDLER_H
#define GUI_EVENT_HANDLER_H

////////////////////////////////////////////////////////////
// Headers
////////////////////////////////////////////////////////////
#include <Config.h>
#include <Gui/Widget.h>

////////////////////////////////////////////////////////////
// Definitions
////////////////////////////////////////////////////////////
#define GUI_EVENT_ERROR	0xFF
#define GUI_EVENT_KEY_PRESSED           0x00
#define GUI_EVENT_KEY_RELEASED          0x01
#define GUI_EVENT_TEXT_ENTERED          0x02
#define GUI_EVENT_BUTTON_PRESSED        0x03
#define GUI_EVENT_BUTTON_RELEASED       0x04
#define GUI_EVENT_MOUSE_MOVE            0x05
#define GUI_EVENT_OPEN                  0x06
#define GUI_EVENT_CLOSE                 0x07

////////////////////////////////////////////////////////////
// Member data
////////////////////////////////////////////////////////////
struct EventPtr
{
	union
	{
		void (*KeyPressed)(struct KeyEvent*);
		void (*KeyReleased)(struct KeyEvent*);
		void (*TextEntered)(struct TextEvent*);
		void (*ButtonPressed)(struct MouseButtonEvent*);
		void (*ButtonReleased)(struct MouseButtonEvent*);
		void (*MouseMove)(struct MouseMoveEvent*);
		void (*Open)();
		void (*Close)();
	}		Ptr;			///< Pointer to the function
	UInt32	Type;			///< Function type
	char	ID[0xFF];		///< ID of the function
};

////////////////////////////////////////////////////////////
/// Initialize all events
////////////////////////////////////////////////////////////
void GuiEventHandlerInitialize();

////////////////////////////////////////////////////////////
/// Return the event type
////////////////////////////////////////////////////////////
UInt32 GuiEventHandlerType(char * EventType);

////////////////////////////////////////////////////////////
/// Get the event type of the function id
////////////////////////////////////////////////////////////
UInt32 GuiEventHandlerGetType(char * FunctionID);

////////////////////////////////////////////////////////////
// Add an event to the list
////////////////////////////////////////////////////////////
void GuiEventHandlerAdd(char * ID, void * Func);

////////////////////////////////////////////////////////////
// Get an event by id
////////////////////////////////////////////////////////////
struct EventPtr * GuiEventHandlerGet(char * ID);

////////////////////////////////////////////////////////////
// Destroy the list
////////////////////////////////////////////////////////////
void GuiEventHandlerDestroy();

#endif // GUI_EVENT_HANDLER_H