#ifndef AUDIO_OPENALHELPER_H
#define AUDIO_OPENALHELPER_H

////////////////////////////////////////////////////////////
// Headers
////////////////////////////////////////////////////////////
#include <Config.h>

#if defined(SYSTEM_MACOS)
    #include <OpenAL/al.h>
    #include <OpenAL/alc.h>
#else
    #include <AL/al.h>
    #include <AL/alc.h>
#endif

////////////////////////////////////////////////////////////
/// Let's define a macro to quickly check every OpenAL
/// API calls
////////////////////////////////////////////////////////////
#ifdef DEBUG

    // If in debug mode, perform a test on every call
    #define ALCheck(Func) ((Func), ALCheckError(__FILE__, __LINE__))

#else

    // Else, we don't add any overhead
    #define ALCheck(Func) (Func)

#endif

////////////////////////////////////////////////////////////
/// Check the last OpenAL error
///
/// \param File : Source file where the call is located
/// \param Line : Line number of the source file where the call is located
///
////////////////////////////////////////////////////////////
void ALCheckError(char * File, UInt32 Line);

////////////////////////////////////////////////////////////
/// Set up the audio device
///
/// \return Nothing
////////////////////////////////////////////////////////////
void AudioInitializeDevice();

////////////////////////////////////////////////////////////
/// Destroy the audio device
///
/// \return Nothing
////////////////////////////////////////////////////////////
void AudioDestroyDevice();

////////////////////////////////////////////////////////////
/// Check OpenAL extensions
///
/// \param Extension : The extension that is going to check
///
/// \return true If the extension is supported
////////////////////////////////////////////////////////////
bool AudioIsExtensionSupported(char * Extension);

////////////////////////////////////////////////////////////
/// Get format from chanels count
///
/// \param ChanelsCount : Number of chanels
///
/// \return Format depending of the number of chanels
////////////////////////////////////////////////////////////
int AudioGetFormatFromChannelsCount(UInt32 ChannelsCount);

////////////////////////////////////////////////////////////
/// Print audio device and OpenAL features
///
////////////////////////////////////////////////////////////
void OpenALPrintFeatures();

#endif // AUDIO_OPENALHELPER_H
